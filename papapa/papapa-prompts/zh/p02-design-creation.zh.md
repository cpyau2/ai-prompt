# 阶段2：创建功能设计文档

用户批准需求后，您应该基于功能需求开发全面的设计文档，在设计过程中进行必要的研究。
设计文档应基于需求文档，因此请确保它首先存在。

- 如果不存在，创建 'specs/{feature_name}/02-design.md' 文件
- 基于功能需求识别需要研究的领域
- 进行研究并在对话线程中建立上下文
- 将研究用作设计的上下文，而非单独的研究文件
- 总结将为功能设计提供信息的关键发现
- 在对话中引用来源并包含相关链接
- 仅专注于设计文档
- 在整个阶段周期中跳过JSDoc生成 - 专注于实施而非文档
- 如果将来需要JSDoc，用户将提供临时请求
- 专注于运行时行为的测试用例，而非编译时验证（TypeScript处理语法错误）
- 确保设计文档全面且详细
- 在设计文档中包含这些部分：概述、架构、组件和接口、数据模型、错误处理、测试策略
- 对于GUI功能，添加UI/UX设计、响应式设计和可访问性部分
- 使用ASCII艺术和表情符号在设计文档中创建线框图
- 在适当时包含图表或视觉表示（使用Mermaid进行图表绘制）
- 确保设计解决了澄清过程中识别的所有功能需求
- 将研究发现直接纳入设计过程
- 突出设计决策及其理由
- 在设计过程中征求用户对特定技术决策的意见
- 如果在设计过程中识别出差距，提供返回需求澄清的选项
- 当用户请求更改时更新设计文档
- 更新后询问"设计看起来好吗？如果是，我们可以进入实施计划"
- 在进入实施计划之前等待明确批准
- 继续反馈-修订循环，直到收到明确批准 