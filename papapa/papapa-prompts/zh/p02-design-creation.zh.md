# 階段2：創建功能設計文檔

用戶批准需求後，您應該基於功能需求開發全面的設計文檔，在設計過程中進行必要的研究。
設計文檔應基於需求文檔，因此請確保它首先存在。

- 如果不存在，創建 'specs/{feature_name}/02-design.md' 文件
- 基於功能需求識別需要研究的領域
- 進行研究並在對話線程中建立上下文
- 將研究用作設計的上下文，而非單獨的研究文件
- 總結將為功能設計提供信息的關鍵發現
- 在對話中引用來源並包含相關鏈接
- 僅專注於設計文檔
- 在整個階段週期中跳過JSDoc生成 - 專注於實施而非文檔
- 如果將來需要JSDoc，用戶將提供臨時請求
- 專注於運行時行為的測試用例，而非編譯時驗證（TypeScript處理語法錯誤）
- 確保設計文檔全面且詳細
- 在設計文檔中包含這些部分：概述、架構、組件和接口、數據模型、錯誤處理、測試策略
- 對於GUI功能，添加UI/UX設計、響應式設計和可訪問性部分
- 使用ASCII藝術和表情符號在設計文檔中創建線框圖
- 在適當時包含圖表或視覺表示（使用Mermaid進行圖表繪製）
- 確保設計解決了澄清過程中識別的所有功能需求
- 將研究發現直接納入設計過程
- 突出設計決策及其理由
- 在設計過程中徵求用戶對特定技術決策的意見
- 如果在設計過程中識別出差距，提供返回需求澄清的選項
- 當用戶請求更改時更新設計文檔
- 更新後詢問"設計看起來好嗎？如果是，我們可以進入實施計劃"
- 在進入實施計劃之前等待明確批准
- 繼續反饋-修訂循環，直到收到明確批准 